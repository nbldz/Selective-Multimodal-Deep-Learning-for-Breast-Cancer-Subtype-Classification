# Configuration file for Multimodal Breast Cancer Classification

# Data paths
data:
  brca_wsi_dir: "/path/to/brca/folder"  # Update with your path
  rna_csv_path: "/path/to/rna_seq.csv"  # Update with your path
  output_dir: "./outputs"
  
# Data preprocessing
preprocessing:
  num_top_genes: 500
  max_patches_per_patient: 50
  img_size: 224
  patch_size: 16
  train_split: 0.7
  val_split: 0.15
  test_split: 0.15
  random_seed: 42

# Model architecture
model:
  wsi_feature_dim: 768
  rna_hidden_dim: 512
  fusion_hidden_dim: 256
  num_classes: 5
  dropout: 0.3
  
  # Fusion types to evaluate
  fusion_types:
    - concatenation
    - gated
    - cross_attention

# Training
training:
  batch_size: 32
  learning_rate: 0.0001
  num_epochs: 50
  patience: 10
  num_workers: 4
  
  # Optimizer
  optimizer: adam
  weight_decay: 0.0001
  
  # Learning rate scheduler
  use_scheduler: true
  scheduler_type: reduce_on_plateau
  scheduler_patience: 5
  scheduler_factor: 0.5

# Routing mechanism
routing:
  confidence_thresholds:
    - 0.5
    - 0.6
    - 0.7
    - 0.75
    - 0.8
    - 0.85
    - 0.9
    - 0.95
  default_threshold: 0.75

# Class names
classes:
  names:
    - Basal
    - Her2
    - LumA
    - LumB
    - Normal
  
  # Mapping for CSV (if different from above)
  csv_mapping:
    Basal: Basal
    Her2: Her2
    LumA: LumA
    LumB: LumB
    Normal: Normal

# Visualization
visualization:
  plot_confusion_matrix: true
  plot_attention_maps: true
  num_attention_samples: 10
  save_predictions: true

# Hardware
hardware:
  device: cuda  # cuda or cpu
  mixed_precision: true
  pin_memory: true

# Logging
logging:
  log_interval: 10
  save_checkpoint_interval: 5
  tensorboard: false